<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OONF OLSRv2: src/librfc5444/rfc5444_msg_generator.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OONF OLSRv2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_633bd082c156d302fed02378d6203ed7.html">librfc5444</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rfc5444_msg_generator.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="avl_8h_source.html">oonf/libcommon/avl.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="oonf_8h_source.html">oonf/oonf.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="list_8h_source.html">oonf/libcommon/list.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="netaddr_8h_source.html">oonf/libcommon/netaddr.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rfc5444__api__config_8h_source.html">oonf/librfc5444/rfc5444_api_config.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rfc5444__writer_8h_source.html">oonf/librfc5444/rfc5444_writer.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for rfc5444_msg_generator.c:</div>
<div class="dyncontent">
<div class="center"><img src="rfc5444__msg__generator_8c__incl.png" border="0" usemap="#src_2librfc5444_2rfc5444__msg__generator_8c" alt=""/></div>
<map name="src_2librfc5444_2rfc5444__msg__generator_8c" id="src_2librfc5444_2rfc5444__msg__generator_8c">
<area shape="rect" id="node4" href="string_8h.html" title="string.h" alt="" coords="189,452,254,479"/>
<area shape="rect" id="node7" href="oonf_8h.html" title="oonf/oonf.h" alt="" coords="1018,527,1105,553"/>
<area shape="rect" id="node10" href="avl_8h.html" title="oonf/libcommon/avl.h" alt="" coords="1464,281,1611,307"/>
<area shape="rect" id="node12" href="list_8h.html" title="oonf/libcommon/list.h" alt="" coords="1429,370,1576,397"/>
<area shape="rect" id="node13" href="netaddr_8h.html" title="oonf/libcommon/netaddr.h" alt="" coords="619,281,791,307"/>
<area shape="rect" id="node21" href="rfc5444__api__config_8h.html" title="oonf/librfc5444/rfc5444\l_api_config.h" alt="" coords="1200,363,1355,404"/>
<area shape="rect" id="node22" href="rfc5444__writer_8h.html" title="oonf/librfc5444/rfc5444\l_writer.h" alt="" coords="984,95,1139,136"/>
<area shape="rect" id="node11" href="container__of_8h.html" title="oonf/libcommon/container_of.h" alt="" coords="1461,452,1661,479"/>
<area shape="rect" id="node18" href="autobuf_8h.html" title="oonf/libcommon/autobuf.h" alt="" coords="251,370,423,397"/>
<area shape="rect" id="node23" href="rfc5444__context_8h.html" title="oonf/librfc5444/rfc5444\l_context.h" alt="" coords="920,273,1075,315"/>
<area shape="rect" id="node24" href="rfc5444__reader_8h.html" title="oonf/librfc5444/rfc5444\l_reader.h" alt="" coords="1099,184,1253,225"/>
<area shape="rect" id="node26" href="rfc5444__tlv__writer_8h.html" title="oonf/librfc5444/rfc5444\l_tlv_writer.h" alt="" coords="869,184,1024,225"/>
<area shape="rect" id="node25" href="bitmap256_8h.html" title="oonf/libcommon/bitmap256.h" alt="" coords="1149,281,1339,307"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__rfc5444__internal__addr__compress__session.html">_rfc5444_internal_addr_compress_session</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac2c459d8bf92341a410bedbafb6ffd59"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#ac2c459d8bf92341a410bedbafb6ffd59">rfc5444_writer_create_message</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer, uint8_t msgid, uint8_t addr_len, <a class="el" href="rfc5444__writer_8h.html#a5adfb85b40631c8e127a433c3b1e9acd">rfc5444_writer_targetselector</a> useIf, void *param)</td></tr>
<tr class="separator:ac2c459d8bf92341a410bedbafb6ffd59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf68faa1bf1c5fc3a09138f4bcc05b7f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#aaf68faa1bf1c5fc3a09138f4bcc05b7f">rfc5444_writer_singletarget_selector</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer <a class="el" href="nl80211_8h.html#ad90a6f7fd18ec04e8ea829bb350a94ac">__attribute__</a>((unused)), struct <a class="el" href="structrfc5444__writer__target.html">rfc5444_writer_target</a> *interf, void *param)</td></tr>
<tr class="separator:aaf68faa1bf1c5fc3a09138f4bcc05b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c50821f61144eed8e54668d489277bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#a4c50821f61144eed8e54668d489277bf">rfc5444_writer_alltargets_selector</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer <a class="el" href="nl80211_8h.html#ad90a6f7fd18ec04e8ea829bb350a94ac">__attribute__</a>((unused)), struct <a class="el" href="structrfc5444__writer__target.html">rfc5444_writer_target</a> *interf <a class="el" href="nl80211_8h.html#ad90a6f7fd18ec04e8ea829bb350a94ac">__attribute__</a>((unused)), void *param <a class="el" href="nl80211_8h.html#ad90a6f7fd18ec04e8ea829bb350a94ac">__attribute__</a>((unused)))</td></tr>
<tr class="separator:a4c50821f61144eed8e54668d489277bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f8b184d7590e3a860606c9d0fdbbe8"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#a57f8b184d7590e3a860606c9d0fdbbe8">rfc5444_writer_forward_msg</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer, struct <a class="el" href="structrfc5444__reader__tlvblock__context.html">rfc5444_reader_tlvblock_context</a> *context, const uint8_t *msg, size_t len)</td></tr>
<tr class="separator:a57f8b184d7590e3a860606c9d0fdbbe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e367ee1ca73b1ffd79beb33259d763a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#a2e367ee1ca73b1ffd79beb33259d763a">rfc5444_writer_add_messagetlv</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer, uint8_t type, uint8_t exttype, const void *value, size_t length)</td></tr>
<tr class="separator:a2e367ee1ca73b1ffd79beb33259d763a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb4d3392293e9441f348e1411e70554"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#a6eb4d3392293e9441f348e1411e70554">rfc5444_writer_allocate_messagetlv</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer, bool has_exttype, size_t length)</td></tr>
<tr class="separator:a6eb4d3392293e9441f348e1411e70554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae767bc162fd3af935b7010e356457cb0"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#ae767bc162fd3af935b7010e356457cb0">rfc5444_writer_set_messagetlv</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer, uint8_t type, uint8_t exttype, const void *value, size_t length)</td></tr>
<tr class="separator:ae767bc162fd3af935b7010e356457cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e837da2bffe74f43c0a04001e20125"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#aa9e837da2bffe74f43c0a04001e20125">rfc5444_writer_set_msg_header</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer, struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *msg, bool has_originator, bool has_hopcount, bool has_hoplimit, bool has_seqno)</td></tr>
<tr class="separator:aa9e837da2bffe74f43c0a04001e20125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba25f59e782a900badab047a99c0d9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#a9ba25f59e782a900badab047a99c0d9f">rfc5444_writer_set_msg_originator</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer, struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *msg, const void *originator)</td></tr>
<tr class="separator:a9ba25f59e782a900badab047a99c0d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606b729a8967a4dbdf4df1813790e523"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#a606b729a8967a4dbdf4df1813790e523">rfc5444_writer_set_msg_hopcount</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer <a class="el" href="nl80211_8h.html#ad90a6f7fd18ec04e8ea829bb350a94ac">__attribute__</a>((unused)), struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *msg, uint8_t hopcount)</td></tr>
<tr class="separator:a606b729a8967a4dbdf4df1813790e523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8f2e2333ee6a5c72e0bdf8c0992aab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#a6d8f2e2333ee6a5c72e0bdf8c0992aab">rfc5444_writer_set_msg_hoplimit</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer <a class="el" href="nl80211_8h.html#ad90a6f7fd18ec04e8ea829bb350a94ac">__attribute__</a>((unused)), struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *msg, uint8_t hoplimit)</td></tr>
<tr class="separator:a6d8f2e2333ee6a5c72e0bdf8c0992aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24aee1240685399dce7fe578e00f7b92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444__msg__generator_8c.html#a24aee1240685399dce7fe578e00f7b92">rfc5444_writer_set_msg_seqno</a> (struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer <a class="el" href="nl80211_8h.html#ad90a6f7fd18ec04e8ea829bb350a94ac">__attribute__</a>((unused)), struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *msg, uint16_t seqno)</td></tr>
<tr class="separator:a24aee1240685399dce7fe578e00f7b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2e367ee1ca73b1ffd79beb33259d763a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e367ee1ca73b1ffd79beb33259d763a">&#9670;&nbsp;</a></span>rfc5444_writer_add_messagetlv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a> rfc5444_writer_add_messagetlv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>exttype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a tlv to a message. This function must not be called outside the message add_tlv callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">type</td><td>tlv type </td></tr>
    <tr><td class="paramname">exttype</td><td>tlv extended type, 0 if no extended type </td></tr>
    <tr><td class="paramname">value</td><td>pointer to tlv value, NULL if no value </td></tr>
    <tr><td class="paramname">length</td><td>number of bytes in tlv value, 0 if no value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RFC5444_OKAY if tlv has been added to packet, RFC5444_... otherwise </dd></dl>

</div>
</div>
<a id="a6eb4d3392293e9441f348e1411e70554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eb4d3392293e9441f348e1411e70554">&#9670;&nbsp;</a></span>rfc5444_writer_allocate_messagetlv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a> rfc5444_writer_allocate_messagetlv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>has_exttype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate memory for message tlv. This function must not be called outside the message add_tlv callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">has_exttype</td><td>true if tlv has an extended type </td></tr>
    <tr><td class="paramname">length</td><td>number of bytes in tlv value, 0 if no value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RFC5444_OKAY if memory for tlv has been allocated, RFC5444_... otherwise </dd></dl>

</div>
</div>
<a id="a4c50821f61144eed8e54668d489277bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c50821f61144eed8e54668d489277bf">&#9670;&nbsp;</a></span>rfc5444_writer_alltargets_selector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rfc5444_writer_alltargets_selector </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer__target.html">rfc5444_writer_target</a> *interf &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *param &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused)&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>All interface selector callback for message creation </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>RFC5444 writer instance </td></tr>
    <tr><td class="paramname">interf</td><td>RFC5444 writer target </td></tr>
    <tr><td class="paramname">param</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>always true </dd></dl>

</div>
</div>
<a id="ac2c459d8bf92341a410bedbafb6ffd59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c459d8bf92341a410bedbafb6ffd59">&#9670;&nbsp;</a></span>rfc5444_writer_create_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a> rfc5444_writer_create_message </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rfc5444__writer_8h.html#a5adfb85b40631c8e127a433c3b1e9acd">rfc5444_writer_targetselector</a>&#160;</td>
          <td class="paramname"><em>useIf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a message with a defined type This function must NOT be called from the rfc5444 writer callbacks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">msgid</td><td>type of message </td></tr>
    <tr><td class="paramname">addr_len</td><td>length of address for this message </td></tr>
    <tr><td class="paramname">useIf</td><td>pointer to interface selector </td></tr>
    <tr><td class="paramname">param</td><td>last parameter of interface selector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RFC5444_OKAY if message was created and added to packet buffer, RFC5444_... otherwise </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rfc5444__msg__generator_8c_ac2c459d8bf92341a410bedbafb6ffd59_icgraph.png" border="0" usemap="#rfc5444__msg__generator_8c_ac2c459d8bf92341a410bedbafb6ffd59_icgraph" alt=""/></div>
<map name="rfc5444__msg__generator_8c_ac2c459d8bf92341a410bedbafb6ffd59_icgraph" id="rfc5444__msg__generator_8c_ac2c459d8bf92341a410bedbafb6ffd59_icgraph">
<area shape="rect" id="node2" href="oonf__rfc5444_8h.html#a8696b44998493ffb5222bdb66f3e4919" title="oonf_rfc5444_send_all" alt="" coords="200,13,352,39"/>
</map>
</div>

</div>
</div>
<a id="a57f8b184d7590e3a860606c9d0fdbbe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f8b184d7590e3a860606c9d0fdbbe8">&#9670;&nbsp;</a></span>rfc5444_writer_forward_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a> rfc5444_writer_forward_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__reader__tlvblock__context.html">rfc5444_reader_tlvblock_context</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a binary rfc5444 message into the writers buffer to forward it. This function handles the modification of hopcount and hoplimit field. The original message will not be modified. This function must NOT be called from the rfc5444 writer callbacks.</p>
<p>The function does demand the writer context pointer as void* to be compatible with the readers forward_message callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">context</td><td>RFC5444 reader context of message </td></tr>
    <tr><td class="paramname">msg</td><td>pointer to message to be forwarded </td></tr>
    <tr><td class="paramname">len</td><td>number of bytes of message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RFC5444_OKAY if the message was put into the writer buffer, RFC5444_... if an error happened </dd></dl>

</div>
</div>
<a id="ae767bc162fd3af935b7010e356457cb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae767bc162fd3af935b7010e356457cb0">&#9670;&nbsp;</a></span>rfc5444_writer_set_messagetlv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rfc5444__context_8h.html#af5c8bb1f55019ae216f912bbcac2bac0">rfc5444_result</a> rfc5444_writer_set_messagetlv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>exttype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a tlv for a message, which memory has been already allocated. This function must not be called outside the message finish_tlv callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">type</td><td>tlv type </td></tr>
    <tr><td class="paramname">exttype</td><td>tlv extended type, 0 if no extended type </td></tr>
    <tr><td class="paramname">value</td><td>pointer to tlv value, NULL if no value </td></tr>
    <tr><td class="paramname">length</td><td>number of bytes in tlv value, 0 if no value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RFC5444_OKAY if tlv has been set to packet, RFC5444_... otherwise </dd></dl>

</div>
</div>
<a id="aa9e837da2bffe74f43c0a04001e20125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e837da2bffe74f43c0a04001e20125">&#9670;&nbsp;</a></span>rfc5444_writer_set_msg_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfc5444_writer_set_msg_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>has_originator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>has_hopcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>has_hoplimit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>has_seqno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the header of a message. This function must not be called outside the message add_header callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">msg</td><td>pointer to message object </td></tr>
    <tr><td class="paramname">has_originator</td><td>true if header contains an originator address </td></tr>
    <tr><td class="paramname">has_hopcount</td><td>true if header contains a hopcount </td></tr>
    <tr><td class="paramname">has_hoplimit</td><td>true if header contains a hoplimit </td></tr>
    <tr><td class="paramname">has_seqno</td><td>true if header contains a sequence number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a606b729a8967a4dbdf4df1813790e523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606b729a8967a4dbdf4df1813790e523">&#9670;&nbsp;</a></span>rfc5444_writer_set_msg_hopcount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfc5444_writer_set_msg_hopcount </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hopcount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set hopcount of a message header This function must not be called outside the message add_header or finish_header callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">msg</td><td>pointer to message object </td></tr>
    <tr><td class="paramname">hopcount</td><td>hopcount to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6d8f2e2333ee6a5c72e0bdf8c0992aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d8f2e2333ee6a5c72e0bdf8c0992aab">&#9670;&nbsp;</a></span>rfc5444_writer_set_msg_hoplimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfc5444_writer_set_msg_hoplimit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hoplimit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set hoplimit of a message header This function must not be called outside the message add_header or finish_header callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">msg</td><td>pointer to message object </td></tr>
    <tr><td class="paramname">hoplimit</td><td>hoplimit to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9ba25f59e782a900badab047a99c0d9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba25f59e782a900badab047a99c0d9f">&#9670;&nbsp;</a></span>rfc5444_writer_set_msg_originator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfc5444_writer_set_msg_originator </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>originator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set originator address of a message header This function must not be called outside the message add_header or finish_header callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">msg</td><td>pointer to message object </td></tr>
    <tr><td class="paramname">originator</td><td>pointer to originator address buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a24aee1240685399dce7fe578e00f7b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24aee1240685399dce7fe578e00f7b92">&#9670;&nbsp;</a></span>rfc5444_writer_set_msg_seqno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfc5444_writer_set_msg_seqno </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer__message.html">rfc5444_writer_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>seqno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set sequence number of a message header This function must not be called outside the message add_header or finish_header callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>pointer to writer context </td></tr>
    <tr><td class="paramname">msg</td><td>pointer to message object </td></tr>
    <tr><td class="paramname">seqno</td><td>sequence number of message header </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf68faa1bf1c5fc3a09138f4bcc05b7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf68faa1bf1c5fc3a09138f4bcc05b7f">&#9670;&nbsp;</a></span>rfc5444_writer_singletarget_selector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rfc5444_writer_singletarget_selector </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer.html">rfc5444_writer</a> *writer &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrfc5444__writer__target.html">rfc5444_writer_target</a> *&#160;</td>
          <td class="paramname"><em>interf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Single interface selector callback for message creation </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>RFC5444 writer instance </td></tr>
    <tr><td class="paramname">interf</td><td>RFC5444 writer target </td></tr>
    <tr><td class="paramname">param</td><td>pointer to the specified interface </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if param equals interf, false otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
