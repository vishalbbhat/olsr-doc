<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OONF OLSRv2: src/librfc5444/rfc5444.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OONF OLSRv2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_633bd082c156d302fed02378d6203ed7.html">librfc5444</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rfc5444.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;<a class="el" href="oonf_8h_source.html">oonf/oonf.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rfc5444_8h_source.html">oonf/librfc5444/rfc5444.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for rfc5444.c:</div>
<div class="dyncontent">
<div class="center"><img src="rfc5444_8c__incl.png" border="0" usemap="#src_2librfc5444_2rfc5444_8c" alt=""/></div>
<map name="src_2librfc5444_2rfc5444_8c" id="src_2librfc5444_2rfc5444_8c">
<area shape="rect" id="node3" href="oonf_8h.html" title="oonf/oonf.h" alt="" coords="662,468,749,495"/>
<area shape="rect" id="node6" href="rfc5444_8h.html" title="oonf/librfc5444/rfc5444.h" alt="" coords="630,80,795,107"/>
<area shape="rect" id="node7" href="rfc5444__iana_8h.html" title="oonf/librfc5444/rfc5444\l_iana.h" alt="" coords="590,155,744,196"/>
<area shape="rect" id="node8" href="netaddr_8h.html" title="oonf/libcommon/netaddr.h" alt="" coords="254,244,426,271"/>
<area shape="rect" id="node13" href="string_8h.html" title="string.h" alt="" coords="326,393,392,420"/>
<area shape="rect" id="node17" href="autobuf_8h.html" title="oonf/libcommon/autobuf.h" alt="" coords="470,319,642,345"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a609e5486989bdee33191e9a830d709c1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444_8c.html#a609e5486989bdee33191e9a830d709c1">rfc5497_timetlv_get_from_vector</a> (const uint8_t *vector, size_t vector_length, uint8_t hopcount)</td></tr>
<tr class="separator:a609e5486989bdee33191e9a830d709c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8752a78ad8d1f7e4d11e9b239fd5eb"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444_8c.html#a9a8752a78ad8d1f7e4d11e9b239fd5eb">rfc5497_timetlv_encode</a> (uint64_t decoded)</td></tr>
<tr class="separator:a9a8752a78ad8d1f7e4d11e9b239fd5eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f6d135c76352cd9ac93dfa35df21f4"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444_8c.html#a69f6d135c76352cd9ac93dfa35df21f4">rfc5497_timetlv_decode</a> (uint8_t encoded)</td></tr>
<tr class="separator:a69f6d135c76352cd9ac93dfa35df21f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b8330c448a26350d18a157df1fde04"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444_8c.html#ac2b8330c448a26350d18a157df1fde04">rfc7181_metric_encode</a> (struct <a class="el" href="structrfc7181__metric__field.html">rfc7181_metric_field</a> *encoded, uint32_t decoded)</td></tr>
<tr class="separator:ac2b8330c448a26350d18a157df1fde04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889c342afc9530b39aebf7ed64ae7286"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444_8c.html#a889c342afc9530b39aebf7ed64ae7286">rfc7181_metric_decode</a> (struct <a class="el" href="structrfc7181__metric__field.html">rfc7181_metric_field</a> *encoded)</td></tr>
<tr class="separator:a889c342afc9530b39aebf7ed64ae7286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e5ecb2fedd5f245c8ff5c355015203"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfc5444_8c.html#a70e5ecb2fedd5f245c8ff5c355015203">rfc5444_seqno_difference</a> (uint16_t seqno1, uint16_t seqno2)</td></tr>
<tr class="separator:a70e5ecb2fedd5f245c8ff5c355015203"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a70e5ecb2fedd5f245c8ff5c355015203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70e5ecb2fedd5f245c8ff5c355015203">&#9670;&nbsp;</a></span>rfc5444_seqno_difference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfc5444_seqno_difference </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>seqno1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>seqno2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the difference between two sequence numbers </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seqno1</td><td>first sequence number </td></tr>
    <tr><td class="paramname">seqno2</td><td>second sequence number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>difference between both </dd></dl>

</div>
</div>
<a id="a69f6d135c76352cd9ac93dfa35df21f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69f6d135c76352cd9ac93dfa35df21f4">&#9670;&nbsp;</a></span>rfc5497_timetlv_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t rfc5497_timetlv_decode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>encoded</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decode an RFC 5497 encoding into a relative time value. If the encoded data is zero, the function returns 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoded</td><td>RFC 5497 encoded time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>relative time in milliseconds </dd></dl>

</div>
</div>
<a id="a9a8752a78ad8d1f7e4d11e9b239fd5eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8752a78ad8d1f7e4d11e9b239fd5eb">&#9670;&nbsp;</a></span>rfc5497_timetlv_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rfc5497_timetlv_encode </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>decoded</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a relative time value into its RFC 5497 (timetlv) representation. If the time value is larger than the largest timetlv encoding, the largest encoding (255) will be returned. If the time value is zero, the function returns zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decoded</td><td>relative timestamp in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RFC 5497 encoded time </dd></dl>

</div>
</div>
<a id="a609e5486989bdee33191e9a830d709c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a609e5486989bdee33191e9a830d709c1">&#9670;&nbsp;</a></span>rfc5497_timetlv_get_from_vector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rfc5497_timetlv_get_from_vector </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>vector_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hopcount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve a timetlv value from a vector of hopcount/value sequences. See RFC 5497, Section 5 for details. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>pointer to timetlv vector </td></tr>
    <tr><td class="paramname">vector_length</td><td>length of vector </td></tr>
    <tr><td class="paramname">hopcount</td><td>hopcount for value lookup </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>timetlv value, 255 (infinite) if an error happened. </dd></dl>

</div>
</div>
<a id="a889c342afc9530b39aebf7ed64ae7286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a889c342afc9530b39aebf7ed64ae7286">&#9670;&nbsp;</a></span>rfc7181_metric_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rfc7181_metric_decode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc7181__metric__field.html">rfc7181_metric_field</a> *&#160;</td>
          <td class="paramname"><em>encoded</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decode a RFC7181 (OLSRv2) encoded metric value. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoded</td><td>encoded metric </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>decoded metric value </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rfc5444_8c_a889c342afc9530b39aebf7ed64ae7286_icgraph.png" border="0" usemap="#rfc5444_8c_a889c342afc9530b39aebf7ed64ae7286_icgraph" alt=""/></div>
<map name="rfc5444_8c_a889c342afc9530b39aebf7ed64ae7286_icgraph" id="rfc5444_8c_a889c342afc9530b39aebf7ed64ae7286_icgraph">
<area shape="rect" id="node2" href="nhdp__domain_8h.html#af37e1c4701be2fce61786c2640d7c89a" title="nhdp_domain_process\l_metric_linktlv" alt="" coords="211,5,363,47"/>
<area shape="rect" id="node3" href="nhdp__domain_8h.html#a2f98f491b902b9890adceefc5459b410" title="nhdp_domain_process\l_metric_2hoptlv" alt="" coords="211,71,363,112"/>
</map>
</div>

</div>
</div>
<a id="ac2b8330c448a26350d18a157df1fde04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b8330c448a26350d18a157df1fde04">&#9670;&nbsp;</a></span>rfc7181_metric_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfc7181_metric_encode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrfc7181__metric__field.html">rfc7181_metric_field</a> *&#160;</td>
          <td class="paramname"><em>encoded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>decoded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode a metric value in RFC7181 (OLSRv2) specified format. A metric value of zero or larger than RFC7181_METRIC_INFINITE will return an error. A metric value larger than the RFC7181_METRIC_MAX will be encoded to 4095. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoded</td><td>pointer to encoded metric value </td></tr>
    <tr><td class="paramname">decoded</td><td>metric value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>encoded -1 if an error happened, 0 otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
